<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Fira+Mono&display=swap" rel="stylesheet">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="/terragrunt/assets/css/prism.css">

<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<title>Use cases</title>
<meta name="description" content="Learn how to integrate Terragrunt with Terraform.">
<link rel="canonical" href="https://terragrunt.io/terragrunt/use-cases/
">

<META NAME="robots" CONTENT="index">

<!-- <link rel="stylesheet" href="/terragrunt/assets/css/app.css" /> -->
<link rel="stylesheet" href="/terragrunt/assets/css/app_less.css" />
<link rel="stylesheet" href="/terragrunt/assets/css/styles.css" />



<link rel="icon" type="image/x-icon" href="/terragrunt/assets/img/favicon/favicon.ico">
<link rel="apple-touch-icon" sizes="57x57" href="/terragrunt/assets/img/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/terragrunt/assets/img/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/terragrunt/assets/img/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/terragrunt/assets/img/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/terragrunt/assets/img/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/terragrunt/assets/img/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/terragrunt/assets/img/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/terragrunt/assets/img/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/terragrunt/assets/img/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/terragrunt/assets/img/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/terragrunt/assets/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/terragrunt/assets/img/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/terragrunt/assets/img/favicon/favicon-16x16.png">
<link rel="manifest" href="/terragrunt/assets/img/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/terragrunt/assets/img/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="background-color" content="#161d25">





<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="" />
<meta name="twitter:title" content="Use cases" />
<meta name="twitter:url" content="https://terragrunt.io/terragrunt/use-cases/
" />
<meta name="twitter:description" content="Learn how to integrate Terragrunt with Terraform." />
<meta name="twitter:image" content="https://terragrunt.io/terragrunt/assets/img/terragrunt-thumbnail.png" />

<meta property="og:title" content="Use cases"/>
<meta property="og:url" content="https://terragrunt.io/terragrunt/use-cases/
"/>
<meta property="og:site_name" content="Terragrunt | Terraform wrapper"/>
<meta property="article:author" content=""/>
<meta property="og:description" content="Learn how to integrate Terragrunt with Terraform."/>
<meta property="og:image" content="https://terragrunt.io/terragrunt/assets/img/terragrunt-thumbnail.png"/>


    </head>
    <body class="use-cases collection-browser subpage" >
        <div class="subpage__header section-colorful-bg">
  <header class="header">
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-2" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="navbar-brand navbar-brand-beta">
          <div class="terragrunt-logo">
  <a class="logo-terragrunt" href="/terragrunt/">Terragrunt</a>
  <a class="gruntwork" href="https://gruntwork.io/" target="_blank">by <strong>Gruntwork.io</strong></a>
</div>

        </div>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/terragrunt/documentation/getting-started/install" ga-on="click" ga-event-category="nav-pages-use-cases-index-html" ga-event-action="install-terragrunt">Install</a></li>
          <li><a href="/terragrunt/documentation/getting-started/quick-start" ga-on="click" ga-event-category="nav-pages-use-cases-index-html" ga-event-action="quick-start">Quick Start</a></li>
          <li><a href="/terragrunt/documentation/" ga-on="click" ga-event-category="nav-pages-use-cases-index-html" ga-event-action="documentation">Docs</a></li>
          <li><a href="/terragrunt/use-cases/" ga-on="click" ga-event-category="nav-pages-use-cases-index-html" ga-event-action="use-cases">Use cases</a></li>
        </ul>
      </div>
    </div>
  </nav>
</header>

  <div class="subpage__hero">
    <h1>Use cases</h1>
    <span class='subtitle'>Learn how to integrate Terragrunt with Terraform.</span>
  </div>
  <div class='header-bg'>
    <div class='overflow-hide'>
      <img src='/terragrunt/assets/img/home/t-o-1@3x.png' alt='Shape' class="header-shapes-top" />
    </div>
    <img src='/terragrunt/assets/img/home/top_left.svg' alt='Hero' class="header-shapes-hero" />
    <img src='/terragrunt/assets/img/home/shape-single-right.svg' alt='Shape' class="header-shape-bottom" />
  </div>
</div>

        <!-- Basic collection data -->




<!-- Get categories and tags from collection -->




<!-- Get posts grouped in categories -->


  <div class="main">

    <div class="cb-section-white">

        <!-- Search -->
        <div class='cb-search-cmp container-fluid' data-collection_name='use-cases'>
  <div class="row">
      <div class="searchrow center">
          <div class="col-xs-6 col-sm-7 no-padding">
              <div class="input-group">
                  <div class="input-group-btn" >
                      <div class="btn-group" role="group">
                          <button type="button" class="btn btn-primary" >
                              <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                          </button>
                      </div>
                  </div>
                  <input id="cb-search-box-use-cases" type="text" class="form-control guides-input-box" placeholder="Search...." data-collection_name='use-cases'>
              </div>
          </div>
          <div class="col-xs-2 col-sm-1 no-padding" id="tags-filter">
              <button class="btn tags-filter" type="button" data-toggle="collapse" data-target="#filter-options" aria-expanded="false" aria-controls="filter-options">
                  Filter <i class="fa fa-caret-down" aria-hidden="true"></i>
              </button>
          </div>
      </div>
      <div class="row">
          <div class="filter-options center">
              <div class="col-sm-8 no-padding">
                  <div class="collapse" id="filter-options" aria-expanded="true">
                      <div class="card card-body">
                          <p>Tags</p>
                          <div class="tags">
                            
                              
                              <div class="checkbox"><input value="DRY" id="filter-DRY" type="checkbox"><label for="filter-DRY">DRY</label></div>
                            
                              
                              <div class="checkbox"><input value="CLI" id="filter-CLI" type="checkbox"><label for="filter-CLI">CLI</label></div>
                            
                              
                              <div class="checkbox"><input value="remote" id="filter-remote" type="checkbox"><label for="filter-remote">remote</label></div>
                            
                              
                              <div class="checkbox"><input value="backend" id="filter-backend" type="checkbox"><label for="filter-backend">backend</label></div>
                            
                              
                              <div class="checkbox"><input value="AWS" id="filter-AWS" type="checkbox"><label for="filter-AWS">AWS</label></div>
                            
                              
                              <div class="checkbox"><input value="AWS IAM" id="filter-AWS IAM" type="checkbox"><label for="filter-AWS IAM">AWS IAM</label></div>
                            
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>

        <div class="row">
          <div class="container-cb-lg">
            <div id="cb-doc-listings">
              <div class="row equal">

                <!-- Sidebar -->
                
                
                <div class="col-md-2-5">
  <div id="toc" class="cb-doc-sidebar js-scroll-with-user" data-scroll-after-selector=".cb-search-cmp" data-scroll-until-selector=".cb-doc-listing" data-nav-current-cat="" data-nav-current-page="use-cases">
    <div class="toc-toggle visible-xs visible-sm">
      <button id="toc-toggle-open" class="toc-toggle__button"><span class="glyphicon glyphicon-menu-hamburger"></span></button>
      <button id="toc-toggle-close" class="toc-toggle__button"><span class="glyphicon glyphicon-remove"></span></button>
    </div>

    
    

    
      <div class="nav-doc-collection-link">
        <a href="/terragrunt/documentation/"><span class="glyphicon glyphicon-share-alt icon-flipped"></span> Documentation</a>
      </div>
    

    
    




  
    <ul>
  


  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-getting-started-2240'
            role='button'
            aria-expanded='false'
            aria-controls='getting-started-2240'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/#getting-started'>Getting Started</a>

        
          




  
    <ul id='cat-nav-id-getting-started-2240' class='collapse'>
  


  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-quick-start-2241'
            role='button'
            aria-expanded='false'
            aria-controls='quick-start-2241'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/getting-started/quick-start/'>Quick Start</a>

        
          




  
    <ul id='cat-nav-id-quick-start-2241' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/quick-start/#introduction'>Introduction</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/quick-start/#keep-your-backend-configuration-dry'>Keep your backend configuration DRY</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/quick-start/#keep-your-terraform-cli-arguments-dry'>Keep your Terraform CLI arguments DRY</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/quick-start/#promote-immutable-versioned-terraform-modules-across-environments'>Promote immutable, versioned Terraform modules across environments</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/quick-start/#next-steps'>Next steps</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-install-2247'
            role='button'
            aria-expanded='false'
            aria-controls='install-2247'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/getting-started/install/'>Install</a>

        
          




  
    <ul id='cat-nav-id-install-2247' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/install/#install-terragrunt'>Install Terragrunt</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/install/#windows'>Windows</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/install/#macos'>macOS</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/install/#linux'>Linux</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/install/#manual'>Manual</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-use-cases-2253'
            role='button'
            aria-expanded='false'
            aria-controls='use-cases-2253'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/use-cases'>Use cases</a>

        
          




  
    <ul id='cat-nav-id-use-cases-2253' class='collapse'>
  


  

    
      
      
      





  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-keep-your-terraform-code-dry-2254'
            role='button'
            aria-expanded='false'
            aria-controls='keep-your-terraform-code-dry-2254'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/use-cases/keep-your-terraform-code-dry/'>Keep your Terraform code DRY</a>

        
          




  
    <ul id='cat-nav-id-keep-your-terraform-code-dry-2254' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-terraform-code-dry/#motivation'>Motivation</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-terraform-code-dry/#remote-terraform-configurations'>Remote Terraform configurations</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-terraform-code-dry/#how-to-use-remote-configuration'>How to use remote configurations</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-terraform-code-dry/#achieve-dry-terraform-code-and-immutable-infrastructure'>Achieve DRY Terraform code and immutable infrastructure</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-terraform-code-dry/#working-locally'>Working locally</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-terraform-code-dry/#important-gotcha-working-with-relative-file-paths'>Important gotcha: working with relative file paths</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-terraform-code-dry/#using-terragrunt-with-private-git-repos'>Using Terragrunt with private Git repos</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-keep-your-remote-state-configuration-dry-2262'
            role='button'
            aria-expanded='false'
            aria-controls='keep-your-remote-state-configuration-dry-2262'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/use-cases/keep-your-remote-state-configuration-dry/'>Keep your remote state configuration DRY</a>

        
          




  
    <ul id='cat-nav-id-keep-your-remote-state-configuration-dry-2262' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-remote-state-configuration-dry/#motivation'>Motivation</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-remote-state-configuration-dry/#filling-in-remote-state-settings-with-terragrunt'>Filling in remote state settings with Terragrunt</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-remote-state-configuration-dry/#rules-for-merging-parent-and-child-configurations'>Rules for merging parent and child configurations</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-remote-state-configuration-dry/#create-remote-state-and-locking-resources-automatically'>Create remote state and locking resources automatically</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-remote-state-configuration-dry/#s3-specific-remote-state-settings'>S3-specific remote state settings</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-remote-state-configuration-dry/#gcs-specific-remote-state-settings'>GCS-specific remote state settings</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-keep-your-cli-flags-dry-2269'
            role='button'
            aria-expanded='false'
            aria-controls='keep-your-cli-flags-dry-2269'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/use-cases/keep-your-cli-flags-dry/'>Keep your CLI flags DRY</a>

        
          




  
    <ul id='cat-nav-id-keep-your-cli-flags-dry-2269' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-cli-flags-dry/#keep-your-cli-flags-dry'>Keep your CLI flags DRY</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-cli-flags-dry/#motivation'>Motivation</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-cli-flags-dry/#multiple-extra_arguments-blocks'>Multiple extra_arguments blocks</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-cli-flags-dry/#extra_arguments-for-init'>extra_arguments for init</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-cli-flags-dry/#required-and-optional-var-files'>Required and optional var-files</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-cli-flags-dry/#handling-whitespace'>Handling whitespace</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-execute-terraform-commands-on-multiple-modules-at-once-2276'
            role='button'
            aria-expanded='false'
            aria-controls='execute-terraform-commands-on-multiple-modules-at-once-2276'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/'>Execute Terraform commands on multiple modules at once</a>

        
          




  
    <ul id='cat-nav-id-execute-terraform-commands-on-multiple-modules-at-once-2276' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/#execute-terraform-commands-on-multiple-modules-at-once'>Execute Terraform commands on multiple modules at once</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/#motivation'>Motivation</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/#the-apply-all-destroy-all-output-all-and-plan-all-commands'>The apply-all, destroy-all, output-all and plan-all commands</a>

        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-passing-outputs-between-modules-2280'
            role='button'
            aria-expanded='false'
            aria-controls='passing-outputs-between-modules-2280'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/#passing-outputs-between-modules'>Passing outputs between modules</a>

        
          




  
    <ul id='cat-nav-id-passing-outputs-between-modules-2280' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/#unapplied-dependency-and-mock-outputs'>Unapplied dependency and mock outputs</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/#dependencies-between-modules'>Dependencies between modules</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/#testing-multiple-modules-locally'>Testing multiple modules locally</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-work-with-multiple-aws-accounts-2284'
            role='button'
            aria-expanded='false'
            aria-controls='work-with-multiple-aws-accounts-2284'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/use-cases/work-with-multiple-aws-accounts/'>Work with multiple AWS accounts</a>

        
          




  
    <ul id='cat-nav-id-work-with-multiple-aws-accounts-2284' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/work-with-multiple-aws-accounts/#work-with-multiple-aws-accounts'>Work with multiple AWS accounts</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/work-with-multiple-aws-accounts/#motivation'>Motivation</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/work-with-multiple-aws-accounts/#configuring-terragrunt-to-assume-an-iam-role'>Configuring Terragrunt to assume an IAM role</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  



    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-cli-options-2288'
            role='button'
            aria-expanded='false'
            aria-controls='cli-options-2288'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/getting-started/cli-options/'>CLI options</a>

        
          




  
    <ul id='cat-nav-id-cli-options-2288' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/cli-options/#cli-options'>CLI options</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-configuration-2290'
            role='button'
            aria-expanded='false'
            aria-controls='configuration-2290'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/getting-started/configuration/'>Configuration</a>

        
          




  
    <ul id='cat-nav-id-configuration-2290' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/configuration/#terragrunt-configuration-file'>Terragrunt configuration file</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/configuration/#configuration-parsing-order'>Configuration parsing order</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/getting-started/configuration/#formatting-terragrunthcl'>Formatting terragrunt.hcl</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-features-2294'
            role='button'
            aria-expanded='false'
            aria-controls='features-2294'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/#features'>Features</a>

        
          




  
    <ul id='cat-nav-id-features-2294' class='collapse'>
  


  

    
      
      
      





  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-terraform-code-dry/'>Keep your Terraform code DRY</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-remote-state-configuration-dry/'>Keep your remote state configuration DRY</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/keep-your-cli-flags-dry/'>Keep your CLI flags DRY</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/'>Execute Terraform commands on multiple modules at once</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/use-cases/work-with-multiple-aws-accounts/'>Work with multiple AWS accounts</a>

        


      </li>
    
  



    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-inputs-2300'
            role='button'
            aria-expanded='false'
            aria-controls='inputs-2300'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/features/inputs/'>Inputs</a>

        
          




  
    <ul id='cat-nav-id-inputs-2300' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/inputs/#variable-precedence'>Variable precedence</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-locals-2302'
            role='button'
            aria-expanded='false'
            aria-controls='locals-2302'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/features/locals/'>Locals</a>

        
          




  
    <ul id='cat-nav-id-locals-2302' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/locals/#including-globally-defined-locals'>Including globally defined locals</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-built-in-functions-2304'
            role='button'
            aria-expanded='false'
            aria-controls='built-in-functions-2304'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/'>Built-in Functions</a>

        
          




  
    <ul id='cat-nav-id-built-in-functions-2304' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#terraform-built-in-functions'>Terraform built-in functions</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#find_in_parent_folders'>find_in_parent_folders</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#path_relative_to_include'>path_relative_to_include</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#path_relative_from_include'>path_relative_from_include</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_env'>get_env</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_terragrunt_dir'>get_terragrunt_dir</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_parent_terragrunt_dir'>get_parent_terragrunt_dir</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_terraform_commands_that_need_vars'>get_terraform_commands_that_need_vars</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_terraform_commands_that_need_input'>get_terraform_commands_that_need_input</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_terraform_commands_that_need_locking'>get_terraform_commands_that_need_locking</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_terraform_commands_that_need_parallelism'>get_terraform_commands_that_need_parallelism</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_aws_account_id'>get_aws_account_id</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_aws_caller_identity_arn'>get_aws_caller_identity_arn</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#get_aws_caller_identity_user_id'>get_aws_caller_identity_user_id</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/built-in-functions/#run_cmd'>run_cmd</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-before-and-after-hooks-2320'
            role='button'
            aria-expanded='false'
            aria-controls='before-and-after-hooks-2320'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/features/before-and-after-hooks/'>Before and After Hooks</a>

        
          




  
    <ul id='cat-nav-id-before-and-after-hooks-2320' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/before-and-after-hooks/#before-and-after-hooks'>Before and After Hooks</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-auto-init-2322'
            role='button'
            aria-expanded='false'
            aria-controls='auto-init-2322'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/features/auto-init/'>Auto-init</a>

        
          




  
    <ul id='cat-nav-id-auto-init-2322' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/auto-init/#auto-init'>Auto-init</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-auto-retry-2324'
            role='button'
            aria-expanded='false'
            aria-controls='auto-retry-2324'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/features/auto-retry/'>Auto-retry</a>

        
          




  
    <ul id='cat-nav-id-auto-retry-2324' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/auto-retry/#auto-retry'>Auto-retry</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-caching-2326'
            role='button'
            aria-expanded='false'
            aria-controls='caching-2326'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/features/caching/'>Caching</a>

        
          




  
    <ul id='cat-nav-id-caching-2326' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/caching/#clearing-the-terragrunt-cache'>Clearing the Terragrunt cache</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-aws-auth-2328'
            role='button'
            aria-expanded='false'
            aria-controls='aws-auth-2328'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/features/aws-auth/'>AWS Auth</a>

        
          




  
    <ul id='cat-nav-id-aws-auth-2328' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/aws-auth/#aws-credentials'>AWS credentials</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/aws-auth/#aws-iam-policies'>AWS IAM policies</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-terragrunt-settings-2331'
            role='button'
            aria-expanded='false'
            aria-controls='terragrunt-settings-2331'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/features/terragrunt-settings/'>Terragrunt settings</a>

        
          




  
    <ul id='cat-nav-id-terragrunt-settings-2331' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/terragrunt-settings/#prevent_destroy'>prevent_destroy</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/terragrunt-settings/#skip'>skip</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/terragrunt-settings/#terraform_binary'>terraform_binary</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/terragrunt-settings/#download_dir'>download_dir</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/features/terragrunt-settings/#terraform_version_constraint'>terraform_version_constraint</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-community-2337'
            role='button'
            aria-expanded='false'
            aria-controls='community-2337'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/#community'>Community</a>

        
          




  
    <ul id='cat-nav-id-community-2337' class='collapse'>
  


  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-contributing-2338'
            role='button'
            aria-expanded='false'
            aria-controls='contributing-2338'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/community/contributing/'>Contributing</a>

        
          




  
    <ul id='cat-nav-id-contributing-2338' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/community/contributing/#contributing'>Contributing</a>

        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-developing-terragrunt-2340'
            role='button'
            aria-expanded='false'
            aria-controls='developing-terragrunt-2340'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/community/contributing/#developing-terragrunt'>Developing Terragrunt</a>

        
          




  
    <ul id='cat-nav-id-developing-terragrunt-2340' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/community/contributing/#running-locally'>Running locally</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/community/contributing/#dependencies'>Dependencies</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/community/contributing/#running-tests'>Running tests</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/community/contributing/#debug-logging'>Debug logging</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/community/contributing/#error-handling'>Error handling</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/community/contributing/#formatting'>Formatting</a>

        


      </li>
    
  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/community/contributing/#releasing-new-versions'>Releasing new versions</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-support-2348'
            role='button'
            aria-expanded='false'
            aria-controls='support-2348'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/support'>Support</a>

        
          




  
    <ul id='cat-nav-id-support-2348' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/support'>Support</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  

    

      
      <li>

        
          <span
            class='category-head collapsed'
            data-toggle='collapse'
            data-target='#cat-nav-id-license-2350'
            role='button'
            aria-expanded='false'
            aria-controls='license-2350'>
            <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>
          </span>
        

        <a href='/terragrunt/documentation/community/license/'>License</a>

        
          




  
    <ul id='cat-nav-id-license-2350' class='collapse'>
  


  

    

      
      <li>

        
        <span
          class='category-head no-collapsable'>
          <span class='arrow-icon glyphicon glyphicon-chevron-right'></span>
        </span>
        

        <a href='/terragrunt/documentation/community/license/#license'>License</a>

        


      </li>
    
  


  </ul>


        


      </li>
    
  


  </ul>


        


      </li>
    
  


  </ul>



  </div>
</div>


                <!-- Listing -->
                <div class="col-xs-12 col-md-7 col-lg-9">
  <div class="row">
    <div class="cb-doc-listing js-scroll-spy" data-scroll-spy-nav-selector="#toc">
      
        <h3 class="category-head"></h3>
        
        
          <div class="cb-doc-card card-shadow" id="keep-your-terraform-code-dry-card">
  <div class="card" ga-on="click" ga-event-category="cb-doc-keep-your-terraform-code-dry" ga-event-action="cb-doc-click">
    <div class="row no-padding">

      
        <a href="/terragrunt/use-cases/keep-your-terraform-code-dry/">
          <div class="col-xs-12 card-body cb-doc-card-description float-right">
            <h5 class="card-title"><b>Keep your Terraform code DRY</b></h5>
            <p class="card-text">
Learn how to achieve DRY Terraform code and immutable infrastructure.
</p>
          </div>
        </a>
      
    </div>
  </div>
</div>

        
          <div class="cb-doc-card card-shadow" id="keep-your-remote-state-configuration-dry-card">
  <div class="card" ga-on="click" ga-event-category="cb-doc-keep-your-remote-state-configuration-dry" ga-event-action="cb-doc-click">
    <div class="row no-padding">

      
        <a href="/terragrunt/use-cases/keep-your-remote-state-configuration-dry/">
          <div class="col-xs-12 card-body cb-doc-card-description float-right">
            <h5 class="card-title"><b>Keep your remote state configuration DRY</b></h5>
            <p class="card-text">
Learn how to create and manage remote state configuration.
</p>
          </div>
        </a>
      
    </div>
  </div>
</div>

        
          <div class="cb-doc-card card-shadow" id="keep-your-cli-flags-dry-card">
  <div class="card" ga-on="click" ga-event-category="cb-doc-keep-your-cli-flags-dry" ga-event-action="cb-doc-click">
    <div class="row no-padding">

      
        <a href="/terragrunt/use-cases/keep-your-cli-flags-dry/">
          <div class="col-xs-12 card-body cb-doc-card-description float-right">
            <h5 class="card-title"><b>Keep your CLI flags DRY</b></h5>
            <p class="card-text">
Learn how to keep CLI flags DRY with "extra_arguments" block in your "terragrunt.hcl".
</p>
          </div>
        </a>
      
    </div>
  </div>
</div>

        
          <div class="cb-doc-card card-shadow" id="execute-terraform-commands-on-multiple-modules-at-once-card">
  <div class="card" ga-on="click" ga-event-category="cb-doc-execute-terraform-commands-on-multiple-modules-at-once" ga-event-action="cb-doc-click">
    <div class="row no-padding">

      
        <a href="/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/">
          <div class="col-xs-12 card-body cb-doc-card-description float-right">
            <h5 class="card-title"><b>Execute Terraform commands on multiple modules at once</b></h5>
            <p class="card-text">
Learn how to avoid tedious tasks of running commands on each module separately.
</p>
          </div>
        </a>
      
    </div>
  </div>
</div>

        
          <div class="cb-doc-card card-shadow" id="work-with-multiple-aws-accounts-card">
  <div class="card" ga-on="click" ga-event-category="cb-doc-work-with-multiple-aws-accounts" ga-event-action="cb-doc-click">
    <div class="row no-padding">

      
        <a href="/terragrunt/use-cases/work-with-multiple-aws-accounts/">
          <div class="col-xs-12 card-body cb-doc-card-description float-right">
            <h5 class="card-title"><b>Work with multiple AWS accounts</b></h5>
            <p class="card-text">
Learn how the Terragrunt may help you to work with mulitple AWS accounts.
</p>
          </div>
        </a>
      
    </div>
  </div>
</div>

        
      
    </div>
  </div>
</div>


              </div>
            </div>
          </div>
        </div>

      <!-- No results -->
      <div id="no-matches" class="cb-section-white container-fluid">
    <div class="row text-center">
        <div class="no-results no-results-space">
            <div class="col-md-6 col-md-offset-3" >
                <img src="/terragrunt/assets/img/no-search-results.png" alt="no search results" /><br />
                <label>No Results Found</label>
                <p>We couldnt find any results matching your search.</p>
            </div>
        </div>
    </div>
</div>


    </div>

  </div>

  <!-- CTA Section -->
  <section>
  <div class="built-by-cmp box-component">
  <div class="box shadow">
    <h2>Built by <strong>Gruntwork</strong></h2>
    <p class="subtitle">Your entire infrastructure. Defined as code. In about a day.</p>
    <a href="https://gruntwork.io/" target="_blank" class="btn btn-primary btn-lg">Explore Gruntwork.io</a>
  </div>
</div>

  <div class="links-section-cmp section-colorful-bg">
  <h2>Links</h2>
  <div class="links">
    <a href="/terragrunt/documentation/getting-started/install" class="link-tag-styled">
      <img src='/terragrunt/assets/img/link-icon.svg' class='link-icon' alt='X' />
      Install
    </a>
    <a href="/terragrunt/documentation/getting-started/quick-start" class="link-tag-styled">
      <img src='/terragrunt/assets/img/link-icon.svg' class='link-icon' alt='X' />
      Quick start
    </a>
    <a href="/terragrunt/documentation" class="link-tag-styled">
      <img src='/terragrunt/assets/img/link-icon.svg' class='link-icon' alt='X' />
      Full documentation
    </a>
  </div>
  <img src="/terragrunt/assets/img/home/links-shapes-left.png" class="links-shapes-left" alt="shapes" />
  <img src="/terragrunt/assets/img/home/links-shapes-right.png" class="links-shapes-right" alt="shapes" />
</div>

</section>



  <script>
      var cName = "bc_use-casesEntries"
      window[cName] = [
          
            
              {
                  "id"       : "execute-terraform-commands-on-multiple-modules-at-once-card",
                  "title"    : "execute terraform commands on multiple modules at once",
                  "category" : "",
                  "excerpt" : "learn how to avoid tedious tasks of running commands on each module separately.",
                  "content"  : "execute terraform commands on multiple modules at oncemotivationthe apply-all, destroy-all, output-all and plan-all commandspassing outputs between modulesdependencies between modulestesting multiple modules locallymotivationlet&#8217;s say your infrastructure is defined across multiple terraform modules:root backend-app    main.tf frontend-app    main.tf mysql    main.tf redis    main.tf vpc     main.tfthere is one module to deploy a frontend-app, another to deploy a backend-app, another for the mysql database, and so on. to deploy such an environment, you&#8217;d have to manually run terraform apply in each of the subfolder, wait for it to complete, and then run terraform apply in the next subfolder. how do you avoid this tedious and time-consuming process?the apply-all, destroy-all, output-all and plan-all commandsto be able to deploy multiple terraform modules in a single command, add a terragrunt.hcl file to each module:root backend-app    main.tf    terragrunt.hcl frontend-app    main.tf    terragrunt.hcl mysql    main.tf    terragrunt.hcl redis    main.tf    terragrunt.hcl vpc     main.tf     terragrunt.hclnow you can go into the root folder and deploy all the modules within it by using the apply-all command:cd rootterragrunt apply-allwhen you run this command, terragrunt will recursively look through all the subfolders of the current working directory, find all folders with a terragrunt.hcl file, and run terragrunt apply in each of those folders concurrently.similarly, to undeploy all the terraform modules, you can use the destroy-all command:cd rootterragrunt destroy-allto see the currently applied outputs of all of the subfolders, you can use the output-all command:cd rootterragrunt output-allfinally, if you make some changes to your project, you could evaluate the impact by using plan-all command:note: it is important to realize that you could get errors running plan-all if you have dependencies between your projects and some of those dependencies haven&#8217;t been applied yet.ex: if module a depends on module b and module b hasn&#8217;t been applied yet, then plan-all will show the plan for b, but exit with an error when trying to show the plan for a.cd rootterragrunt plan-allif your modules have dependencies between themfor example, you can&#8217;t deploy the backend-app until mysql and redis are deployedyou&#8217;ll need to express those dependencies in your terragrunt configuration as explained in the next section.passing outputs between modulesconsider the following file structure:root backend-app    main.tf    terragrunt.hcl mysql    main.tf    terragrunt.hcl redis    main.tf    terragrunt.hcl vpc     main.tf     terragrunt.hclsuppose that you wanted to pass in the vpc id of the vpc that is created from the vpc module in the folder structure above to the mysql module as an input variable. or if you wanted to pass in the subnet ids of the private subnet that is allocated as part of the vpc module.you can use the dependency block to extract the output variables to access another module&#8217;s output variables in the terragrunt inputs attribute.for example, suppose the vpc module outputs the id under the name vpc_id. to access that output, you would specify in mysql/terragrunt.hcl:dependency \"vpc\" {  config_path = \"../vpc\"}inputs = {  vpc_id = dependency.vpc.outputs.vpc_id}when you apply this module, the output will be read from the vpc module and passed in as an input to the mysql module right before calling terraform apply.you can also specify multiple dependency blocks to access multiple different module output variables. for example, in the above folder structure, you might want to reference the domain output of the redis and mysql modules for use as inputs in the backend-app module. to access those outputs, you would specify in backend-app/terragrunt.hcl:dependency \"mysql\" {  config_path = \"../mysql\"}dependency \"redis\" {  config_path = \"../redis\"}inputs = {  mysql_url = dependency.mysql.outputs.domain  redis_url = dependency.redis.outputs.domain}note that each dependency is automatically considered a dependency in terragrunt. this means that when you run apply-all on a config that has dependency blocks, terragrunt will not attempt to deploy the config until all the modules referenced in dependency blocks have been applied. so for the above example, the order for the apply-all command would be:deploy the vpcdeploy mysql and redis in paralleldeploy the backend-appif any of the modules failed to deploy, then terragrunt will not attempt to deploy the modules that depend on them.note: not all blocks are able to access outputs passed by dependency blocks. see the section on configuration parsing order for more information.unapplied dependency and mock outputsterragrunt will return an error indicating the dependency hasn&#8217;t been applied yet if the terraform module managed by the terragrunt config referenced in a dependency block has not been applied yet. this is because you cannot actually fetch outputs out of an unapplied terraform module, even if there are no resources being created in the module.this is most problematic when running commands that do not modify state (e.g plan-all and validate-all) on a completely new setup where no infrastructure has been deployed. you won&#8217;t be able to plan or validate a module if you can&#8217;t determine the inputs. if the module depends on the outputs of another module that hasn&#8217;t been applied yet, you won&#8217;t be able to compute the inputs unless the dependencies are all applied. however, in real life usage, you would want to run validate-all or plan-all on a completely new set of infrastructure.to address this, you can provide mock outputs to use when a module hasn&#8217;t been applied yet. this is configured using the mock_outputs attribute on the dependency block and it corresponds to a map that will be injected in place of the actual dependency outputs if the target config hasn&#8217;t been applied yet.for example, in the previous example with a mysql module and vpc module, suppose you wanted to place in a temporary, dummy value for the vpc_id during a validate-all for the mysql module. you can specify in mysql/terragrunt.hcl:dependency \"vpc\" {  config_path = \"../vpc\"  mock_outputs = {    vpc_id = \"temporary-dummy-id\"  }}inputs = {  vpc_id = dependency.vpc.outputs.vpc_id}you can now run validate on this config before the vpc module is applied because terragrunt will use the map {vpc_id = \"temporary-dummy-id\"} as the outputs attribute on the dependency instead of erroring out.what if you wanted to restrict this behavior to only the validate command? for example, you might not want to use the defaults for a plan operation because the plan doesn&#8217;t give you any indication of what is actually going to be created.you can use the mock_outputs_allowed_terraform_commands attribute to indicate that the mock_outputs should only be used when running those terraform commands. so to restrict the mock_outputs to only when validate is being run, you can modify the above terragrunt.hcl file to:dependency \"vpc\" {  config_path = \"../vpc\"  mock_outputs = {    vpc_id = \"temporary-dummy-id\"  }  mock_outputs_allowed_terraform_commands = [\"validate\"]}inputs = {  vpc_id = dependency.vpc.outputs.vpc_id}note that indicating validate means that the mock_outputs will be used either with validate or with validate-all.you can also use skip_outputs on the dependency block to specify the dependency without pulling in the outputs:dependency \"vpc\" {  config_path = \"../vpc\"  skip_outputs = true}when skip_outputs is used with mock_outputs, mocked outputs will be returned without pulling in the outputs from remote states. this can be useful when you disable the backend initialization (remote_state.disable_init) in ci for example.dependency \"vpc\" {  config_path = \"../vpc\"  mock_outputs = {    vpc_id = \"temporary-dummy-id\"  }  skip_outputs = true}dependencies between modulesyou can also specify dependencies explicitly. consider the following file structure:root backend-app    main.tf    terragrunt.hcl frontend-app    main.tf    terragrunt.hcl mysql    main.tf    terragrunt.hcl redis    main.tf    terragrunt.hcl vpc     main.tf     terragrunt.hcllet&#8217;s assume you have the following dependencies between terraform modules:backend-app depends on mysql, redis, and vpcfrontend-app depends on backend-app and vpcmysql depends on vpcredis depends on vpcvpc has no dependenciesyou can express these dependencies in your terragrunt.hcl config files using a dependencies block. for example, in backend-app/terragrunt.hcl you would specify:dependencies {  paths = [\"../vpc\", \"../mysql\", \"../redis\"]}similarly, in frontend-app/terragrunt.hcl, you would specify:dependencies {  paths = [\"../vpc\", \"../backend-app\"]}once you&#8217;ve specified the dependencies in each terragrunt.hcl file, when you run the terragrunt apply-all or terragrunt destroy-all, terragrunt will ensure that the dependencies are applied or destroyed, respectively, in the correct order. for the example at the start of this section, the order for the apply-all command would be:deploy the vpcdeploy mysql and redis in paralleldeploy the backend-appdeploy the frontend-appif any of the modules fail to deploy, then terragrunt will not attempt to deploy the modules that depend on them. once you&#8217;ve fixed the error, it&#8217;s usually safe to re-run the apply-all or destroy-all command again, since it&#8217;ll be a no-op for the modules that already deployed successfully, and should only affect the ones that had an error the last time around.to check all of your dependencies and validate the code in them, you can use the validate-all command.testing multiple modules locallyif you are using terragrunt to configure remote terraform configurations and all of your modules have the source parameter set to a git url, but you want to test with a local checkout of the code, you can use the --terragrunt-source parameter:cd rootterragrunt plan-all --terragrunt-source /source/modulesif you set the --terragrunt-source parameter, the xxx-all commands will assume that parameter is pointing to a folder on your local file system that has a local checkout of all of your terraform modules. for each module that is being processed via a xxx-all command, terragrunt will read in the source parameter in that module&#8217;s terragrunt.hcl file, parse out the path (the portion after the double-slash), and append the path to the --terragrunt-source parameter to create the final local path for that module.for example, consider the following terragrunt.hcl file:terraform {  source = \"git::git@github.com:acme/infrastructure-modules.git//networking/vpc?ref=v0.0.1\"}if you run terragrunt apply-all --terragrunt-source /source/infrastructure-modules, then the local path terragrunt will compute for the module above will be /source/infrastructure-modules//networking/vpc.",
                  "tags"     : "dry, cli",
                  "cloud"     : ""
              },
            
              {
                  "id"       : "keep-your-cli-flags-dry-card",
                  "title"    : "keep your cli flags dry",
                  "category" : "",
                  "excerpt" : "learn how to keep cli flags dry with &quot;extra_arguments&quot; block in your &quot;terragrunt.hcl&quot;.",
                  "content"  : "keep your cli flags drymotivationmultiple extra_arguments blocksextra_arguments for initrequired and optional var-fileshandling whitespacemotivationsometimes you may need to pass extra cli arguments every time you run certain terraform commands. for example, you may want to set the lock-timeout setting to 20 minutes for all commands that may modify remote state so that terraform will keep trying to acquire a lock for up to 20 minutes if someone else already has the lock rather than immediately exiting with an error.you can configure terragrunt to pass specific cli arguments for specific commands using an extra_arguments block in your terragrunt.hcl file:terraform {  # force terraform to keep trying to acquire a lock for  # up to 20 minutes if someone else already has the lock  extra_arguments \"retry_lock\" {    commands = [      \"init\",      \"apply\",      \"refresh\",      \"import\",      \"plan\",      \"taint\",      \"untaint\"    ]    arguments = [      \"-lock-timeout=20m\"    ]    env_vars = {      tf_var_var_from_environment = \"value\"    }  }}each extra_arguments block includes an arbitrary name (in the example above, retry_lock), a list of commands to which the extra arguments should be added, and a list of arguments or required_var_files or optional_var_files to add. you can also pass custom environment variables using env_vars block, which stores environment variables in key value pairs. with the configuration above, when you run terragrunt apply, terragrunt will call terraform as follows:$ terragrunt applyterraform apply -lock-timeout=20myou can even use built-in functions such as get_terraform_commands_that_need_locking to automatically populate the lsit of terraform commands that need locking:terraform {  # force terraform to keep trying to acquire a lock for up to 20 minutes if someone else already has the lock  extra_arguments \"retry_lock\" {    commands  = get_terraform_commands_that_need_locking()    arguments = [\"-lock-timeout=20m\"]  }}multiple extra_arguments blocksyou can specify one or more extra_arguments blocks. the arguments in each block will be applied any time you call terragrunt with one of the commands in the commands list. if more than one extra_arguments block matches a command, the arguments will be added in the order of appearance in the configuration. for example, in addition to lock settings, you may also want to pass custom -var-file arguments to several commands:terraform {  # force terraform to keep trying to acquire a lock for  # up to 20 minutes if someone else already has the lock  extra_arguments \"retry_lock\" {    commands  = get_terraform_commands_that_need_locking()    arguments = [\"-lock-timeout=20m\"]  }  # pass custom var files to terraform  extra_arguments \"custom_vars\" {    commands = [      \"apply\",      \"plan\",      \"import\",      \"push\",      \"refresh\"    ]    arguments = [      \"-var\", \"foo=bar\",      \"-var\", \"region=us-west-1\"    ]  }}with the configuration above, when you run terragrunt apply, terragrunt will call terraform as follows:$ terragrunt applyterraform apply -lock-timeout=20m -var foo=bar -var region=us-west-1extra_arguments for initextra arguments for the init command have some additional behavior and constraints.in addition to being appended to the terraform init command that is run when you explicitly run terragrunt init, extra_arguments for init will also be appended to the init commands that are automatically run during other commands (see auto-init).you must not specify the -from-module option (aka. the source argument for terraform &lt; 0.10.0) or the dir argument in the extra_arguments for init. this option and argument will be provided automatically by terragrunt.here&#8217;s an example of configuring extra_arguments for init in an environment in which terraform plugins are manually installed, rather than relying on terraform to automatically download them.terraform {  # ...  extra_arguments \"init_args\" {    commands = [      \"init\"    ]    arguments = [      \"-get-plugins=false\",      \"-plugin-dir=/my/terraform/plugin/dir\",    ]  }}required and optional var-filesone common usage of extra_arguments is to include tfvars files. instead of using arguments, it is simpler to use either required_var_files or optional_var_files. both options require only to provide the list of file to include. the only difference is that required_var_files will add the extra argument -var-file=&lt;your file&gt; for each file specified and if they don&#8217;t exist, exit with an error. optional_var_files, on the other hand, will skip over files that don&#8217;t exists. this allows many conditional configurations based on environment variables as you can see in the following example:/my/tf terragrunt.hcl prod.tfvars us-west-2.tfvars backend-app    main.tf    dev.tfvars    terragrunt.hcl frontend-app    main.tf    us-east-1.tfvars    terragrunt.hclterraform {  extra_arguments \"conditional_vars\" {    commands = [      \"apply\",      \"plan\",      \"import\",      \"push\",      \"refresh\"    ]    required_var_files = [      \"${get_parent_terragrunt_dir()}/terraform.tfvars\"    ]    optional_var_files = [      \"${get_parent_terragrunt_dir()}/${get_env(\"tf_var_env\", \"dev\")}.tfvars\",      \"${get_parent_terragrunt_dir()}/${get_env(\"tf_var_region\", \"us-east-1\")}.tfvars\",      \"${get_terragrunt_dir()}/${get_env(\"tf_var_env\", \"dev\")}.tfvars\",      \"${get_terragrunt_dir()}/${get_env(\"tf_var_region\", \"us-east-1\")}.tfvars\"    ]  }see the get_terragrunt_dir() and get_parent_terragrunt_dir() documentation for more details.with the configuration above, when you run terragrunt apply-all, terragrunt will call terraform as follows:$ terragrunt apply-all[backend-app]  terraform apply -var-file=/my/tf/terraform.tfvars -var-file=/my/tf/backend-app/dev.tfvars[frontend-app] terraform apply -var-file=/my/tf/terraform.tfvars -var-file=/my/tf/frontend-app/us-east-1.tfvars$ tf_var_env=prod terragrunt apply-all[backend-app]  terraform apply -var-file=/my/tf/terraform.tfvars -var-file=/my/tf/prod.tfvars[frontend-app] terraform apply -var-file=/my/tf/terraform.tfvars -var-file=/my/tf/prod.tfvars -var-file=/my/tf/frontend-app/us-east-1.tfvars$ tf_var_env=prod tf_var_region=us-west-2 terragrunt apply-all[backend-app]  terraform apply -var-file=/my/tf/terraform.tfvars -var-file=/my/tf/prod.tfvars -var-file=/my/tf/us-west-2.tfvars[frontend-app] terraform apply -var-file=/my/tf/terraform.tfvars -var-file=/my/tf/prod.tfvars -var-file=/my/tf/us-west-2.tfvarshandling whitespacethe list of arguments cannot include whitespaces, so if you need to pass command line arguments that include spaces (e.g. -var bucket=example.bucket.name), then each of the arguments will need to be a separate item in the arguments list:terraform {  extra_arguments \"bucket\" {    commands = [      \"apply\",      \"plan\",      \"import\",      \"push\",      \"refresh\"    ]    arguments = [      \"-var\", \"bucket=example.bucket.name\",    ]  }}with the configuration above, when you run terragrunt apply, terragrunt will call terraform as follows:$ terragrunt applyterraform apply -var bucket=example.bucket.name",
                  "tags"     : "dry, cli",
                  "cloud"     : ""
              },
            
              {
                  "id"       : "keep-your-remote-state-configuration-dry-card",
                  "title"    : "keep your remote state configuration dry",
                  "category" : "",
                  "excerpt" : "learn how to create and manage remote state configuration.",
                  "content"  : "keep your remote state configuration drymotivationfilling in remote state settings with terragruntcreate remote state and locking resources automaticallymotivationterraform supports remote state storage via a variety of backends that you normally configure in your .tf files as follows:terraform {  backend \"s3\" {    bucket         = \"my-terraform-state\"    key            = \"frontend-app/terraform.tfstate\"    region         = \"us-east-1\"    encrypt        = true    dynamodb_table = \"my-lock-table\"  }}unfortunately, the backend configuration does not support expressions, variables, or functions. this makes it hard to keep your code dry if you have multiple terraform modules. for example, consider the following folder structure, which uses different terraform modules to deploy a backend app, frontend app, mysql database, and a vpc: backend-app    main.tf frontend-app    main.tf mysql    main.tf vpc     main.tfto use remote state with each of these modules, you would have to copy/paste the exact same backend configuration into each of the main.tf files. the only thing that would differ between the configurations would be the key parameter: e.g., the key for mysql/main.tf might be mysql/terraform.tfstate and the key for frontend-app/main.tf might be frontend-app/terraform.tfstate.to keep your remote state configuration dry, you can use terragrunt. you still have to specify the backend you want to use in each module, but instead of copying and pasting the configuration settings over and over again into each main.tf file, you can leave them blank (this is known as partial configuration):terraform {  # the configuration for this backend will be filled in by terragrunt  backend \"s3\" {}}filling in remote state settings with terragruntto fill in the settings via terragrunt, create a terragrunt.hcl file in the root folder, plus one terragrunt.hcl file in each of the terraform modules: terragrunt.hcl backend-app    main.tf    terragrunt.hcl frontend-app    main.tf    terragrunt.hcl mysql    main.tf    terragrunt.hcl vpc     main.tf     terragrunt.hclin your root terragrunt.hcl file, you can define your entire remote state configuration just once in a remote_state block (which supports all the same backend types as terraform), as follows:remote_state {  backend = \"s3\"  config = {    bucket         = \"my-terraform-state\"    key            = \"${path_relative_to_include()}/terraform.tfstate\"    region         = \"us-east-1\"    encrypt        = true    dynamodb_table = \"my-lock-table\"  }}in each of the child terragrunt.hcl files, such as mysql/terragrunt.hcl, you can tell terragrunt to automatically include all the settings from the root terragrunt.hcl file as follows:include {  path = find_in_parent_folders()}the include block tells terragrunt to use the exact same terragrunt configuration from the terragrunt.hcl file specified via the path parameter. it behaves exactly as if you had copy/pasted the terraform configuration from the included file remote_state configuration into mysql/terragrunt.hcl, but this approach is much easier to maintain!the next time you run terragrunt, it will automatically configure all the settings in the remote_state.config block, if they aren&#8217;t configured already, by calling terraform init.the terragrunt.hcl files above use two terragrunt built-in functions:find_in_parent_folders(): this function returns the path to the first terragrunt.hcl file it finds in the parent folders above the current terragrunt.hcl file. in the example above, the call to find_in_parent_folders() in mysql/terragrunt.hcl will return ../terragrunt.hcl. this way, you don&#8217;t have to hard code the path parameter in every module.path_relative_to_include(): this function returns the relative path between the current terragrunt.hcl file and the path specified in its include block. we typically use this in a root terragrunt.hcl file so that each terraform child module stores its terraform state at a different key. for example, the mysql module will have its key parameter resolve to mysql/terraform.tfstate and the frontend-app module will have its key parameter resolve to frontend-app/terraform.tfstate.see the built-in functions docs for more info.check out the terragrunt-infrastructure-modules-example and terragrunt-infrastructure-live-example repos for fully-working sample code that demonstrates how to use terragrunt to manage remote state.rules for merging parent and child configurationsthe child .hcl file&#8217;s terraform settings will be merged into the parent file&#8217;s terraform settings as follows:if an extra_arguments block in the child has the same name as an extra_arguments block in the parent, then the child&#8217;s block will override the parent&#8217;s.specifying an empty extra_arguments block in a child with the same name will effectively remove the parent&#8217;s block.if an extra_arguments block in the child has a different name than extra_arguments blocks in the parent, then both the parent and child&#8217;s extra_arguments will be effective.the child&#8217;s extra_arguments will be placed after the parent&#8217;s extra_arguments on the terraform command line.therefore, if a child&#8217;s and parent&#8217;s extra_arguments include .tfvars files with the same variable defined, the value from the .tfvars file from the child&#8217;s extra_arguments will be used by terraform.if a before_hook or after_hook block in the child has the same name as the hook block in the parent, then the child&#8217;s block will override the parent&#8217;s.specifying an empty hook block in a child with the same name will effectively remove the parent&#8217;s block.if a before_hook or after_hook block in the child has a different name than hook blocks in the parent, then both the parent and child&#8217;s hook blocks will be effective.the source field in the child will override source field in the parentother settings in the child .hcl file override the respective settings in the parent.create remote state and locking resources automaticallywhen you run terragrunt with remote_state configuration, it will automatically create the following resources if they don&#8217;t already exist:s3 bucket: if you are using the s3 backend for remote state storage and the bucket you specify in remote_state.config doesn&#8217;t already exist, terragrunt will create it automatically, with versioning, server-side encryption, and access logging enabled.in addition, you can let terragrunt tag the bucket with custom tags that you specify in remote_state.config.s3_bucket_tags.dynamodb table: if you are using the s3 backend for remote state storage and you specify a dynamodb_table (a dynamodb table used for locking) in remote_state.config, if that table doesn&#8217;t already exist, terragrunt will create it automatically, with server-side encryption enabled, including a primary key called lockid.in addition, you can let terragrunt tag the dynamodb table with custom tags that you specify in remote_state.config.dynamodb_table_tags.gcs bucket: if you are using the gcs backend for remote state storage and the bucket you specify in remote_state.config doesn&#8217;t already exist, terragrunt will create it automatically, with versioning enabled. for this to work correctly you must also specify project and location keys in remote_state.config, so terragrunt knows where to create the bucket. you will also need to supply valid credentials using either remote_state.config.credentials or by setting the google_application_credentials environment variable. if you want to skip creating the bucket entirely, simply set skip_bucket_creation to true and terragrunt will assume the bucket has already been created. if you don&#8217;t specify bucket in remote_state then terragrunt will assume that you will pass bucket through -backend-config in extra_arguments.we also strongly recommend you enable cloud audit logs to audit and track api operations performed against the state bucket.in addition, you can let terragrunt label the bucket with custom labels that you specify in remote_state.config.gcs_bucket_labels.note: if you specify a profile key in remote_state.config, terragrunt will automatically use this aws profile when creating the s3 bucket or dynamodb table.note: you can disable automatic remote state initialization by setting remote_state.disable_init, this will skip the automatic creation of remote state resources and will execute terraform init passing the backend=false option. this can be handy when running commands such as validate-all as part of a ci process where you do not want to initialize remote state.the following example demonstrates using an environment variable to configure this option:remote_state {  # ...  disable_init = tobool(get_env(\"terragrunt_disable_init\", \"false\"))}s3-specific remote state settingsfor the s3 backend, the following config options can be used for s3-compatible object stores, as necessary:remote_state {  # ...  skip_bucket_versioning         = true # use only if the object store does not support versioning  skip_bucket_ssencryption       = true # use only if non-encrypted terraform state is required and/or the object store does not support server-side encryption  skip_bucket_accesslogging      = true # use only if the cost for the extra object space is undesirable or the object store does not support access logging  enable_lock_table_ssencryption = true # use only if non-encrypted dynamodb lock table for the terraform state is required and/or the nosql database service does not support server-side encryption  shared_credentials_file     = \"/path/to/credentials/file\"  skip_credentials_validation = true  skip_metadata_api_check     = true  force_path_style            = true}if you experience an error for any of these configurations, confirm you are using terraform v0.12.2 or greater.further, the config options s3_bucket_tags, dynamodb_table_tags, skip_bucket_versioning, skip_bucket_ssencryption, skip_bucket_accesslogging, and enable_lock_table_ssencryption are only valid for backend s3. they are used by terragrunt and are not passed on to terraform. see section create remote state and locking resources automatically.gcs-specific remote state settingsfor the gcs backend, the following config options can be used for gcs-compatible object stores, as necessary:remote_state { # ... skip_bucket_versioning = true # use only if the object store does not support versioning encryption_key = \"google_encryption_key\"}if you experience an error for any of these configurations, confirm you are using terraform v0.12.0 or greater.further, the config options gcs_bucket_labels and skip_bucket_versioning are only valid for the backend gcs. they are used by terragrunt and are not passed on to terraform. see section create remote state and locking resources automatically.",
                  "tags"     : "dry, remote",
                  "cloud"     : ""
              },
            
              {
                  "id"       : "keep-your-terraform-code-dry-card",
                  "title"    : "keep your terraform code dry",
                  "category" : "",
                  "excerpt" : "learn how to achieve dry terraform code and immutable infrastructure.",
                  "content"  : "keep your terraform code drymotivationremote terraform configurationshow to use remote configurationsachieve dry terraform code and immutable infrastructureworking locallyimportant gotcha: working with relative file pathsusing terragrunt with private git reposmotivationconsider the following file structure, which defines three environments (prod, qa, stage) with the same infrastructure in each one (an app, a mysql database, and a vpc): live     prod        app           main.tf        mysql           main.tf        vpc            main.tf     qa        app           main.tf        mysql           main.tf        vpc            main.tf     stage         app            main.tf         mysql            main.tf         vpc             main.tfthe contents of each environment will be more or less identical, except perhaps for a few settings (e.g. the prod environment may run bigger or more servers). as the size of the infrastructure grows, having to maintain all of this duplicated code between environments becomes more error prone. you can reduce the amount of copy paste using terraform modules, but even the code to instantiate a module and set up input variables, output variables, providers, and remote state can still create a lot of maintenance overhead.how can you keep your terraform code dry so that you only have to define it once, no matter how many environments you have?remote terraform configurationsterragrunt has the ability to download remote terraform configurations. the idea is that you define the terraform code for your infrastructure just once, in a single repo, called, for example, modules: modules     app        main.tf     mysql        main.tf     vpc         main.tfthis repo contains typical terraform code, with one difference: anything in your code that should be different between environments should be exposed as an input variable. for example, the app module might expose the following variables:variable \"instance_count\" {  description = \"how many servers to run\"}variable \"instance_type\" {  description = \"what kind of servers to run (e.g. t2.large)\"}these variables allow you to run smaller/fewer servers in qa and stage to save money and larger/more servers in prod to ensure availability and scalability.in a separate repo, called, for example, live, you define the code for all of your environments, which now consists of just one terragrunt.hcl file per component (e.g. app/terragrunt.hcl, mysql/terragrunt.hcl, etc). this gives you the following file layout: live     prod        app           terragrunt.hcl        mysql           terragrunt.hcl        vpc            terragrunt.hcl     qa        app           terragrunt.hcl        mysql           terragrunt.hcl        vpc            terragrunt.hcl     stage         app            terragrunt.hcl         mysql            terragrunt.hcl         vpc             terragrunt.hclnotice how there are no terraform configurations (.tf files) in any of the folders. instead, each terragrunt.hcl file specifies a terraform { &#8230;&#8203; } block that specifies from where to download the terraform code, as well as the environment-specific values for the input variables in that terraform code. for example, stage/app/terragrunt.hcl may look like this:terraform {  # deploy version v0.0.3 in stage  source = \"git::git@github.com:foo/modules.git//app?ref=v0.0.3\"}inputs = {  instance_count = 3  instance_type  = \"t2.micro\"}(note: the double slash (//) in the source parameter is intentional and required. it&#8217;s part of terraform&#8217;s git syntax for module sources. terraform may display a \"terraform initialized in an empty directory\" warning, but you can safely ignore it.)and prod/app/terragrunt.hcl may look like this:terraform {  # deploy version v0.0.1 in prod  source = \"git::git@github.com:foo/modules.git//app?ref=v0.0.1\"}inputs = {  instance_count = 10  instance_type  = \"m2.large\"}you can now deploy the modules in your live repo. for example, to deploy the app module in stage, you would do the following:cd live/stage/appterragrunt applywhen terragrunt finds the terraform block with a source parameter in live/stage/app/terragrunt.hcl file, it will:download the configurations specified via the source parameter into the --terragrunt-download-dir folder (by default .terragrunt-cache in the working directory, which we recommend adding to .gitignore). this downloading is done by using the same go-getter library terraform uses, so the source parameter supports the exact same syntax as the module source parameter, including local file paths, git urls, and git urls with ref parameters (useful for checking out a specific tag, commit, or branch of git repo). terragrunt will download all the code in the repo (i.e. the part before the double-slash //) so that relative paths work correctly between modules in that repo.copy all files from the current working directory into the temporary folder.execute whatever terraform command you specified in that temporary folder.pass any variables defined in the inputs = { &#8230;&#8203; } block as environment variables (prefixed with tf_var_ to your terraform code. notice how the inputs block in stage/app/terragrunt.hcl deploys fewer and smaller instances than prod.check out the terragrunt-infrastructure-modules-example and terragrunt-infrastructure-live-example repos for fully-working sample code that demonstrates this new folder structure.achieve dry terraform code and immutable infrastructurewith this new approach, copy/paste between environments is minimized. the terragrunt.hcl files contain solely the source url of the module to deploy and the inputs to set for that module in the current environment. to create a new environment, you copy an old one and update just the environment-specific inputs in the terragrunt.hcl files, which is about as close to the \"essential complexity\" of the problem as you can get.just as importantly, since the terraform module code is now defined in a single repo, you can version it (e.g., using git tags and referencing them using the ref parameter in the source url, as in the stage/app/terragrunt.hcl and prod/app/terragrunt.hcl examples above), and promote a single, immutable version through each environment (e.g., qa &#8594; stage &#8594; prod). this idea is inspired by kief morris' blog post using pipelines to manage environments with infrastructure as code.working locallyif you&#8217;re testing changes to a local copy of the modules repo, you can use the --terragrunt-source command-line option or the terragrunt_source environment variable to override the source parameter. this is useful to point terragrunt at a local checkout of your code so you can do rapid, iterative, make-a-change-and-rerun development:cd live/stage/appterragrunt apply --terragrunt-source ../../../modules//app(note: the double slash (//) here too is intentional and required. terragrunt downloads all the code in the folder before the double-slash into the temporary folder so that relative paths between modules work correctly. terraform may display a \"terraform initialized in an empty directory\" warning, but you can safely ignore it.)important gotcha: terragrunt cachingthe first time you set the source parameter to a remote url, terragrunt will download the code from that url into a tmp folder. it will not download it again afterwords unless you change that url. that&#8217;s because downloading codeand more importantly, reinitializing remote state, redownloading provider plugins, and redownloading modulescan take a long time. to avoid adding 10-90 seconds of overhead to every terragrunt command, terragrunt assumes all remote urls are immutable, and only downloads them once.therefore, when working locally, you should use the --terragrunt-source parameter and point it at a local file path as described in the previous section. terragrunt will copy the local files every time you run it, which is nearly instantaneous, and doesn&#8217;t require reinitializing everything, so you&#8217;ll be able to iterate quickly.if you need to force terragrunt to redownload something from a remote url, run terragrunt with the --terragrunt-source-update flag and it&#8217;ll delete the tmp folder, download the files from scratch, and reinitialize everything. this can take a while, so avoid it and use --terragrunt-source when you can!important gotcha: working with relative file pathsone of the gotchas with downloading terraform configurations is that when you run terragrunt apply in folder foo, terraform will actually execute in some temporary folder such as .terragrunt-cache/foo. that means you have to be especially careful with relative file paths, as they will be relative to that temporary folder and not the folder where you ran terragrunt!in particular:command line: when using file paths on the command line, such as passing an extra -var-file argument, you should use absolute paths:# use absolute file paths on the cli!terragrunt apply -var-file /foo/bar/extra.tfvarsterragrunt configuration: when using file paths directly in your terragrunt configuration (terragrunt.hcl), such as in an extra_arguments block, you can&#8217;t use hard-coded absolute file paths, or it won&#8217;t work on your teammates' computers. therefore, you should utilize the terragrunt built-in function get_terragrunt_dir() to use a relative file path:terraform {  source = \"git::git@github.com:foo/modules.git//frontend-app?ref=v0.0.3\"  extra_arguments \"custom_vars\" {    commands = [      \"apply\",      \"plan\",      \"import\",      \"push\",      \"refresh\"    ]    # with the get_terragrunt_dir() function, you can use relative paths!    arguments = [      \"-var-file=${get_terragrunt_dir()}/../common.tfvars\",      \"-var-file=example.tfvars\"    ]  }}see the get_terragrunt_dir() documentation for more details.using terragrunt with private git reposthe easiest way to use terragrunt with private git repos is to use ssh authentication. configure your git account so you can use it with ssh (see the guide for github here) and use the ssh url for your repo, prepended with git::ssh://:terraform {  source = \"git::ssh://git@github.com/foo/modules.git//path/to/module?ref=v0.0.1\"}look up the git repo for your repository to find the proper format.note: in automated pipelines, you may need to run the following command for your git repository prior to calling terragrunt to ensure that the ssh host is registered locally, e.g.:$ ssh -t -ostricthostkeychecking=accept-new git@github.com || true",
                  "tags"     : "dry, backend",
                  "cloud"     : ""
              },
            
              {
                  "id"       : "work-with-multiple-aws-accounts-card",
                  "title"    : "work with multiple aws accounts",
                  "category" : "",
                  "excerpt" : "learn how the terragrunt may help you to work with mulitple aws accounts.",
                  "content"  : "work with multiple aws accountsmotivationthe most secure way to manage infrastructure in aws is to use multiple aws accounts. you define all your iam users in one account (e.g., the \"security\" account) and deploy all of your infrastructure into a number of other accounts (e.g., the \"dev\", \"stage\", and \"prod\" accounts). to access those accounts, you login to the security account and assume an iam role in the other accounts.there are a few ways to assume iam roles when using aws cli tools, such as terraform:one option is to create a named profile, each with a different role_arn parameter. you then tell terraform which profile to use via the aws_profile environment variable. the downside to using profiles is that you have to store your aws credentials in plaintext on your hard drive.another option is to use environment variables and the aws cli. you first set the credentials for the security account (the one where your iam users are defined) as the environment variables aws_access_key_id and aws_secret_access_key and run aws sts assume-role --role-arn &lt;role&gt;. this gives you back a blob of json that contains new aws_access_key_id and aws_secret_access_key values you can set as environment variables to allow terraform to use that role. the advantage of this approach is that you can store your aws credentials in a secret store and never write them to disk in plaintext. the disadvantage is that assuming an iam role requires several tedious steps. worse yet, the credentials you get back from the assume-role command are only good for up to 1 hour, so you have to repeat this process often.a final option is to modify your aws provider with the assume_role configuration and your s3 backend with the role_arn parameter. you can then set the credentials for the security account (the one where your iam users are defined) as the environment variables aws_access_key_id and aws_secret_access_key and when you run terraform apply or terragrunt apply, terraform/terragrunt will assume the iam role you specify automatically. the advantage of this approach is that you can store your aws credentials in a secret store and never write them to disk in plaintext, and you get fresh credentials on every run of apply, without the complexity of calling assume-role. the disadvantage is that you have to modify all your terraform / terragrunt code to set the role_arn param and your terraform backend configuration will change (and prompt you to manually confirm the update!) every time you change the iam role you&#8217;re using.to avoid these frustrating trade-offs, you can configure terragrunt to assume an iam role for you, as described next.configuring terragrunt to assume an iam roleto tell terragrunt to assume an iam role, just set the --terragrunt-iam-role command line argument:terragrunt apply --terragrunt-iam-role \"arn:aws:iam::account_id:role/role_name\"alternatively, you can set the terragrunt_iam_role environment variable:export terragrunt_iam_role=\"arn:aws:iam::account_id:role/role_name\"terragrunt applyadditionally, you can specify an iam_role property in the terragrunt config:iam_role = \"arn:aws:iam::account_id:role/role_name\"terragrunt will resolve the value of the option by first looking for the cli argument, then looking for the environment variable, then defaulting to the value specified in the config file.terragrunt will call the sts assume-role api on your behalf and expose the credentials it gets back as environment variables when running terraform. the advantage of this approach is that you can store your aws credentials in a secret store and never write them to disk in plaintext, you get fresh credentials on every run of terragrunt, without the complexity of calling assume-role yourself, and you don&#8217;t have to modify your terraform code or backend configuration at all.",
                  "tags"     : "cli, aws, aws iam",
                  "cloud"     : ""
              },
            
            
          
      ];
  </script>


        <footer class="footer">
  <div class="container-fluid">
    <div class="row">

      <div class="col-xs-12 col-sm-6">
        <div class="terragrunt-logo">
  <a class="logo-terragrunt" href="/terragrunt/">Terragrunt</a>
  <a class="gruntwork" href="https://gruntwork.io/" target="_blank">by <strong>Gruntwork.io</strong></a>
</div>

        <p class="subtitle">Your entire infrastructure. Defined as code. In about a day.</p>
        <a href="https://gruntwork.io" target="_blank" class="btn btn-primary">Discover Gruntwork.io</a>
      </div>

      <div class="col-xs-12 col-sm-6 learn-col">
        <h4>Learn</h4>
        <ul>
          <li><a href="/terragrunt/documentation/getting-started/install">Install</a></li>
          <li><a href="/terragrunt/documentation/getting-started/quick-start">Quick Start</a></li>
          <li><a href="/terragrunt/documentation">Documentation</a></li>
          <li><a href="/terragrunt/use-cases">Use cases</a></li>
        </ul>
        <h4>Website</h4>
        <ul>
          <li><a href="/terragrunt/cookie-policy">Cookie Policy</a></li>
          <li><a href="/terragrunt/support">Support</a></li>
        </ul>
        <div class="footer__copyright">
          &copy; 2019 Gruntwork, Inc. All rights reserved.
        </div>
      </div>

    </div>
  </div>
</footer>

        <script src="/terragrunt/assets/js/main.js"></script>

  
    <script src='/terragrunt/assets/js/collection-browser_scroll.js' type="text/javascript"></script>
  
    <script src='/terragrunt/assets/js/collection-browser_search.js' type="text/javascript"></script>
  
    <script src='/terragrunt/assets/js/collection-browser_toc.js' type="text/javascript"></script>
  


<!-- Add here more: Google Analytics etc. -->


<script>
  window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }; ga.l = +new Date;
  ga('create', 'UA-76462621-6', 'auto');
  ga('require', 'eventTracker');
  ga('require', 'maxScrollTracker');
  ga('require', 'outboundFormTracker');
  ga('require', 'outboundLinkTracker');
  ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js"></script>

<script src="/terragrunt/assets/js/cookie.js" async></script>



    </body>
</html>
