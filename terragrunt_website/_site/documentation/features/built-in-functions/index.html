<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Fira+Mono&display=swap" rel="stylesheet">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="/terragrunt/assets/css/prism.css">

<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<title>Built-in functions</title>
<meta name="description" content="Terragrunt allows you to use built-in functions anywhere in terragrunt.hcl, just like Terraform.">
<link rel="canonical" href="https://terragrunt.io/documentation/features/built-in-functions/
">

<META NAME="robots" CONTENT="index">

<link rel="stylesheet" href="/terragrunt//assets/css/app.css" />



<link rel="icon" type="image/x-icon" href="/assets/img/favicon/favicon.ico">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="background-color" content="#161d25">





<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="" />
<meta name="twitter:title" content="Built-in functions" />
<meta name="twitter:url" content="https://terragrunt.io/documentation/features/built-in-functions/
" />
<meta name="twitter:description" content="Terragrunt allows you to use built-in functions anywhere in terragrunt.hcl, just like Terraform." />
<meta name="twitter:image" content="https://terragrunt.io/assets/img/terragrunt-thumbnail.png" />

<meta property="og:title" content="Built-in functions"/>
<meta property="og:url" content="https://terragrunt.io/documentation/features/built-in-functions/
"/>
<meta property="og:site_name" content="Terragrunt | Terraform wrapper"/>
<meta property="article:author" content=""/>
<meta property="og:description" content="Terragrunt allows you to use built-in functions anywhere in terragrunt.hcl, just like Terraform."/>
<meta property="og:image" content="https://terragrunt.io/assets/img/terragrunt-thumbnail.png"/>




    </head>
    <body class="built-in-functions collection-browser collection-browser-doc subpage" >
        <div class="subpage__header subpage__header--min section-colorful-bg">
  <header class="header">
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-2" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="navbar-brand navbar-brand-beta">
          <div class="terragrunt-logo">
  <a class="logo-terragrunt" href="/terragrunt/">Terragrunt</a>
  <a class="gruntwork" href="https://gruntwork.io/" target="_blank">by <strong>Gruntwork.io</strong></a>
</div>

        </div>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/terragrunt/documentation/getting-started/install" ga-on="click" ga-event-category="nav-documentation-02-features-built-in-functions-adoc" ga-event-action="install-terragrunt">Install</a></li>
          <li><a href="/terragrunt/documentation/getting-started/quick-start" ga-on="click" ga-event-category="nav-documentation-02-features-built-in-functions-adoc" ga-event-action="quick-start">Quick Start</a></li>
          <li><a href="/terragrunt/documentation/" ga-on="click" ga-event-category="nav-documentation-02-features-built-in-functions-adoc" ga-event-action="documentation">Docs</a></li>
          <li><a href="/terragrunt/use-cases/" ga-on="click" ga-event-category="nav-documentation-02-features-built-in-functions-adoc" ga-event-action="use-cases">Use cases</a></li>
        </ul>
      </div>
    </div>
  </nav>
</header>

  <div class='header-bg'>
    <div class='overflow-hide'>
      <img src='/terragrunt/assets/img/home/t-o-1@3x.png' alt='Shape' class="header-shapes-top" />
    </div>
    <img src='/terragrunt/assets/img/home/top_left.svg' alt='Shape' class="header-shapes-hero" />
  </div>
</div>

        <!-- Basic collection data -->


<!-- Get categories from collection -->



<!-- Get docs grouped in categories -->


<div class="cb-doc-detail">
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12">
        <div class="cb-doc-header">
  <ol class="breadcrumb text-center">
    
    <a href="/terragrunt/documentation" ga-on="click" ga-event-category="documentation-built-in-functions" ga-event-action="documentation-main-index">Documentation</a>
    
      
        <a href="/terragrunt/documentation#features" ga-on="click" ga-event-category="documentation-built-in-functions" ga-event-action="documentation-breadcrumb-features">/ <span>Features</span></a>
      
    
      
        <a href="#"> / <span> Built in functions</span></a>
      
    
  </ol>
  <div class="cb-doc-title text-center">
    
    <h1>Built-in functions</h1>
    
      
        <span class="badge badge-pill badge-default">
          
          Functions
        </span>
      
    
  </div>
</div>

      </div>
    </div>
  </div>
  <div class="container-cb-lg">
    <div class="row equal">
      <div class="col-md-2-5">
        <div id="toc" class="cb-doc-sidebar js-scroll-with-user" data-scroll-after-selector=".cb-doc-header" data-scroll-until-selector=".cb-doc-detail" data-nav-current-cat="features" data-nav-current-page="built-in-functions">
  <div class="toc-toggle visible-xs visible-sm">
    <button id="toc-toggle-open" class="toc-toggle__button"><span class="glyphicon glyphicon-menu-hamburger"></span></button>
    <button id="toc-toggle-close" class="toc-toggle__button"><span class="glyphicon glyphicon-remove"></span></button>
  </div>
  <div class="nav-doc-collection-link">
    <a href="/terragrunt/documentation"><span class="glyphicon glyphicon-share-alt icon-flipped"></span> documentation</a>
  </div>
  <ul><li class='toc-level-category'>             <span class='category-head collapsed' data-toggle='collapse' data-target='#cat-nav-id-getting-started'               role='button' aria-expanded='false' aria-controls='getting-started'>               <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>             </span><a href='/terragrunt/documentation#getting-started'>Getting started</a><ul id='cat-nav-id-getting-started' class='collapse'><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-quick-start' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/getting-started/quick-start/'>Quick start</a><ul id='doc-nav-id-quick-start' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/getting-started/quick-start/#keep-your-backend-configuration-dry">Keep your backend configuration DRY</a></li>
<li class="toc-level-h2"><a href="/terragrunt/documentation/getting-started/quick-start/#keep-your-terraform-cli-arguments-dry">Keep your Terraform CLI arguments DRY</a></li>
<li class="toc-level-h2"><a href="/terragrunt/documentation/getting-started/quick-start/#promote-immutable-versioned-terraform-modules-across-environments">Promote immutable, versioned Terraform modules across environments</a></li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-install' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/getting-started/install/'>Install</a><ul id='doc-nav-id-install' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/getting-started/install/#install-terragrunt">Install Terragrunt</a>
<ul>
<li class="toc-level-h3"><a href="/terragrunt/documentation/getting-started/install/#windows">Windows</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/getting-started/install/#macos">macOS</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/getting-started/install/#linux">Linux</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/getting-started/install/#manual">Manual</a></li>
</ul>
</li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-cli-options' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/getting-started/cli-options/'>CLI options</a><ul id='doc-nav-id-cli-options' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/getting-started/cli-options/#cli-options">CLI Options</a></li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-configuration' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/getting-started/configuration/'>Configuration</a><ul id='doc-nav-id-configuration' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/getting-started/configuration/#configuration">Configuration</a>
<ul>
<li class="toc-level-h3"><a href="/terragrunt/documentation/getting-started/configuration/#prevent_destroy">prevent_destroy</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/getting-started/configuration/#skip">skip</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/getting-started/configuration/#terraform_binary">terraform_binary</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/getting-started/configuration/#download_dir">download_dir</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/getting-started/configuration/#terraform_version_constraint">terraform_version_constraint</a></li>
</ul>
</li>
<li class="toc-level-h2"><a href="/terragrunt/documentation/getting-started/configuration/#configuration-parsing-order">Configuration parsing order</a></li>
<li class="toc-level-h2"><a href="/terragrunt/documentation/getting-started/configuration/#formatting-terragrunthcl">Formatting terragrunt.hcl</a></li>
</ul></li></ul></li><li class='toc-level-category'>             <span class='category-head collapsed' data-toggle='collapse' data-target='#cat-nav-id-features'               role='button' aria-expanded='false' aria-controls='features'>               <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>             </span><a href='/terragrunt/documentation#features'>Features</a><ul id='cat-nav-id-features' class='collapse'><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-inputs' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/features/inputs/'>Inputs</a><ul id='doc-nav-id-inputs' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/features/inputs/#inputs">Inputs</a>
<ul>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/inputs/#variable-precedence">Variable precedence</a></li>
</ul>
</li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-locals' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/features/locals/'>Locals</a><ul id='doc-nav-id-locals' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/features/locals/#locals">Locals</a>
<ul>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/locals/#including-globally-defined-locals">Including globally defined locals</a></li>
</ul>
</li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-built-in-functions' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/features/built-in-functions/'>Built-in functions</a><ul id='doc-nav-id-built-in-functions' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/features/built-in-functions/#built-in-functions">Built-in Functions</a>
<ul>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#terraform-built-in-functions">Terraform built-in functions</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#find_in_parent_folders">find_in_parent_folders</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#path_relative_to_include">path_relative_to_include</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#path_relative_from_include">path_relative_from_include</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_env">get_env</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_terragrunt_dir">get_terragrunt_dir</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_parent_terragrunt_dir">get_parent_terragrunt_dir</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_terraform_commands_that_need_vars">get_terraform_commands_that_need_vars</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_terraform_commands_that_need_input">get_terraform_commands_that_need_input</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_terraform_commands_that_need_locking">get_terraform_commands_that_need_locking</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_terraform_commands_that_need_parallelism">get_terraform_commands_that_need_parallelism</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_aws_account_id">get_aws_account_id</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_aws_caller_identity_arn">get_aws_caller_identity_arn</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#get_aws_caller_identity_user_id">get_aws_caller_identity_user_id</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/features/built-in-functions/#run_cmd">run_cmd</a></li>
</ul>
</li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-before-and-after-hooks' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/features/before-and-after-hooks/'>Before and after hooks</a><ul id='doc-nav-id-before-and-after-hooks' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/features/before-and-after-hooks/#before-and-after-hooks">Before and After Hooks</a></li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-auto-init' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/features/auto-init/'>Auto-init</a><ul id='doc-nav-id-auto-init' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/features/auto-init/#auto-init">Auto-Init</a></li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-auto-retry' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/features/auto-retry/'>Auto-retry</a><ul id='doc-nav-id-auto-retry' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/features/auto-retry/#auto-retry">Auto-Retry</a></li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-caching' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/features/caching/'>Caching</a><ul id='doc-nav-id-caching' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/features/caching/#clearing-the-terragrunt-cache">Clearing the Terragrunt cache</a></li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-aws-auth' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/features/aws-auth/'>AWS Auth</a><ul id='doc-nav-id-aws-auth' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/features/aws-auth/#aws-credentials">AWS credentials</a></li>
<li class="toc-level-h2"><a href="/terragrunt/documentation/features/aws-auth/#aws-iam-policies">AWS IAM policies</a></li>
</ul></li></ul></li><li class='toc-level-category'>             <span class='category-head collapsed' data-toggle='collapse' data-target='#cat-nav-id-community'               role='button' aria-expanded='false' aria-controls='community'>               <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>             </span><a href='/terragrunt/documentation#community'>Community</a><ul id='cat-nav-id-community' class='collapse'><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-contributing' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/community/contributing/'>Contributing</a><ul id='doc-nav-id-contributing' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/community/contributing/#contributing">Contributing</a></li>
<li class="toc-level-h2"><a href="/terragrunt/documentation/community/contributing/#developing-terragrunt">Developing Terragrunt</a>
<ul>
<li class="toc-level-h3"><a href="/terragrunt/documentation/community/contributing/#running-locally">Running locally</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/community/contributing/#dependencies">Dependencies</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/community/contributing/#running-tests">Running tests</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/community/contributing/#debug-logging">Debug logging</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/community/contributing/#error-handling">Error handling</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/community/contributing/#formatting">Formatting</a></li>
<li class="toc-level-h3"><a href="/terragrunt/documentation/community/contributing/#releasing-new-versions">Releasing new versions</a></li>
</ul>
</li>
</ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-support' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/community/support/'>Support</a><ul id='doc-nav-id-support' class='collapse'></ul></li><li class='toc-level-doc'>                 <span class='collapsed' data-toggle='collapse' data-target='#doc-nav-id-license' role='button' aria-expanded='false' aria-controls='toc'>                   <span class='arrow-icon glyphicon glyphicon-triangle-bottom'></span>                 </span>                 <a href='/terragrunt/documentation/community/license/'>License</a><ul id='doc-nav-id-license' class='collapse'><li class="toc-level-h2"><a href="/terragrunt/documentation/community/license/#license">License</a></li>
</ul></li></ul></li></ul>
</div>

      </div>
      <div class="col-xs-12 col-md-7 col-lg-9 cb-section-white">
        <div class="cb-doc-content js-scroll-spy" data-scroll-spy-nav-selector="#toc">
            <div class="sect1">
<h2 id="built-in-functions">Built-in Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Terragrunt allows you to use built-in functions anywhere in <code>terragrunt.hcl</code>, just like Terraform! The functions currently available are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#terraform-built-in-functions">All Terraform built-in functions</a></p>
</li>
<li>
<p><a href="#find_in_parent_folders">find_in_parent_folders()</a></p>
</li>
<li>
<p><a href="#path_relative_to_include">path_relative_to_include()</a></p>
</li>
<li>
<p><a href="#path_relative_from_include">path_relative_from_include()</a></p>
</li>
<li>
<p><a href="#get_env">get_env(NAME, DEFAULT)</a></p>
</li>
<li>
<p><a href="#get_terragrunt_dir">get_terragrunt_dir()</a></p>
</li>
<li>
<p><a href="#get_parent_terragrunt_dir">get_parent_terragrunt_dir()</a></p>
</li>
<li>
<p><a href="#get_terraform_commands_that_need_vars">get_terraform_commands_that_need_vars()</a></p>
</li>
<li>
<p><a href="#get_terraform_commands_that_need_input">get_terraform_commands_that_need_input()</a></p>
</li>
<li>
<p><a href="#get_terraform_commands_that_need_locking">get_terraform_commands_that_need_locking()</a></p>
</li>
<li>
<p><a href="#get_terraform_commands_that_need_parallelism">get_terraform_commands_that_need_parallelism()</a></p>
</li>
<li>
<p><a href="#get_aws_account_id">get_aws_account_id()</a></p>
</li>
<li>
<p><a href="#get_aws_caller_identity_arn">get_aws_caller_identity_arn()</a></p>
</li>
<li>
<p><a href="#get_aws_caller_identity_user_id">get_aws_caller_identity_user_id()</a></p>
</li>
<li>
<p><a href="#run_cmd">run_cmd()</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="terraform-built-in-functions">Terraform built-in functions</h3>
<div class="paragraph">
<p>All <a href="https://www.terraform.io/docs/configuration/functions.html">Terraform built-in functions</a> are supported in Terragrunt config files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  source = "../modules/${basename(get_terragrunt_dir())}"
}

remote_state {
  backend = "s3"
  config = {
    bucket = trimspace("   my-terraform-bucket     ")
    region = join("-", ["us", "east", "1"])
    key    = format("%s/terraform.tfstate", path_relative_to_include())
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: Any <code>file*</code> functions (<code>file</code>, <code>fileexists</code>, <code>filebase64</code>, etc) are relative to the directory containing the <code>terragrunt.hcl</code> file they&#8217;re used in.</p>
</div>
<div class="paragraph">
<p>Given the following structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>└── terragrunt
  └── common.tfvars
  ├── assets
  |  └── mysql
  |     └── assets.txt
  └── terragrunt.hcl</pre>
</div>
</div>
<div class="paragraph">
<p>Then <code>assets.txt</code> could be read with the following function call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">file("assets/mysql/assets.txt")</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="find_in_parent_folders">find_in_parent_folders</h3>
<div class="paragraph">
<p><code>find_in_parent_folders()</code> searches up the directory tree from the current <code>terragrunt.hcl</code> file and returns the relative path to the first <code>terragrunt.hcl</code> in a parent folder or exit with an error if no such file is found. This is primarily useful in an <code>include</code> block to automatically find the path to a parent <code>terragrunt.hcl</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">include {
  path = find_in_parent_folders()
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The function takes an optional <code>name</code> parameter that allows you to specify a different filename to search for:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">include {
  path = find_in_parent_folders("some-other-file-name.hcl")
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also pass an optional second <code>fallback</code> parameter which causes the function to return the fallback value (instead of exiting with an error) if the file in the <code>name</code> parameter cannot be found:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">include {
  path = find_in_parent_folders("some-other-file-name.tfvars", "fallback.tfvars")
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="path_relative_to_include">path_relative_to_include</h3>
<div class="paragraph">
<p><code>path_relative_to_include()</code> returns the relative path between the current <code>terragrunt.hcl</code> file and the <code>path</code> specified in its <code>include</code> block. For example, consider the following folder structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>├── terragrunt.hcl
└── prod
    └── mysql
        └── terragrunt.hcl
└── stage
    └── mysql
        └── terragrunt.hcl</pre>
</div>
</div>
<div class="paragraph">
<p>Imagine <code>prod/mysql/terragrunt.hcl</code> and <code>stage/mysql/terragrunt.hcl</code> include all settings from the root <code>terragrunt.hcl</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">include {
  path = find_in_parent_folders()
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The root <code>terragrunt.hcl</code> can use the <code>path_relative_to_include()</code> in its <code>remote_state</code> configuration to ensure each child stores its remote state at a different <code>key</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">remote_state {
  backend = "s3"
  config = {
    bucket = "my-terraform-bucket"
    region = "us-east-1"
    key    = "${path_relative_to_include()}/terraform.tfstate"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The resulting <code>key</code> will be <code>prod/mysql/terraform.tfstate</code> for the prod <code>mysql</code> module and <code>stage/mysql/terraform.tfstate</code> for the stage <code>mysql</code> module.</p>
</div>
</div>
<div class="sect2">
<h3 id="path_relative_from_include">path_relative_from_include</h3>
<div class="paragraph">
<p><code>path_relative_from_include()</code> returns the relative path between the <code>path</code> specified in its <code>include</code> block and the current <code>terragrunt.hcl</code> file (it is the counterpart of <code>path_relative_to_include()</code>). For example, consider the following folder structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>├── sources
|  ├── mysql
|  |  └── *.tf
|  └── secrets
|     └── mysql
|         └── *.tf
└── terragrunt
  └── common.tfvars
  ├── mysql
  |  └── terragrunt.hcl
  ├── secrets
  |  └── mysql
  |     └── terragrunt.hcl
  └── terragrunt.hcl</pre>
</div>
</div>
<div class="paragraph">
<p>Imagine <code>terragrunt/mysql/terragrunt.hcl</code> and <code>terragrunt/secrets/mysql/terragrunt.hcl</code> include all settings from the root <code>terragrunt.hcl</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">include {
  path = find_in_parent_folders()
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The root <code>terragrunt.hcl</code> can use the <code>path_relative_from_include()</code> in combination with <code>path_relative_to_include()</code> in its <code>source</code> configuration to retrieve the relative terraform source code from the terragrunt configuration file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  source = "${path_relative_from_include()}/../sources//${path_relative_to_include()}"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The resulting <code>source</code> will be <code>../../sources//mysql</code> for <code>mysql</code> module and <code>../../../sources//secrets/mysql</code> for <code>secrets/mysql</code> module.</p>
</div>
<div class="paragraph">
<p>Another use case would be to add extra argument to include the <code>common.tfvars</code> file for all subdirectories:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">  terraform {
    extra_arguments "common_var" {
      commands = [
        "apply",
        "plan",
        "import",
        "push",
        "refresh"
      ]

      arguments = [
        "-var-file=${get_terragrunt_dir()}/${path_relative_from_include()}/common.tfvars",
      ]
    }
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This allows proper retrieval of the <code>common.tfvars</code> from whatever the level of subdirectories we have.</p>
</div>
</div>
<div class="sect2">
<h3 id="get_env">get_env</h3>
<div class="paragraph">
<p><code>get_env(NAME, DEFAULT)</code> returns the value of the environment variable named <code>NAME</code> or <code>DEFAULT</code> if that environment variable is not set. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">remote_state {
  backend = "s3"
  config = {
    bucket = get_env("BUCKET", "my-terraform-bucket")
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that <a href="https://www.terraform.io/docs/configuration/environment-variables.html#tf_var_name">Terraform will read environment variables</a> that start with the prefix <code>TF_VAR_</code>, so one way to share a variable named <code>foo</code> between Terraform and Terragrunt is to set its value as the environment variable <code>TF_VAR_foo</code> and to read that value in using this <code>get_env()</code> built-in function.</p>
</div>
</div>
<div class="sect2">
<h3 id="get_terragrunt_dir">get_terragrunt_dir</h3>
<div class="paragraph">
<p><code>get_terragrunt_dir()</code> returns the directory where the Terragrunt configuration file (by default <code>terragrunt.hcl</code>) lives. This is useful when you need to use relative paths with <a href="#remote-terraform-configurations">remote Terraform configurations</a> and you want those paths relative to your Terragrunt configuration file and not relative to the temporary directory where Terragrunt downloads the code.</p>
</div>
<div class="paragraph">
<p>For example, imagine you have the following file structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>/terraform-code
├── common.tfvars
├── frontend-app
│   └── terragrunt.hcl</pre>
</div>
</div>
<div class="paragraph">
<p>Inside of <code>/terraform-code/frontend-app/terragrunt.hcl</code> you might try to write code that looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  source = "git::git@github.com:foo/modules.git//frontend-app?ref=v0.0.3"

  extra_arguments "custom_vars" {
    commands = [
      "apply",
      "plan",
      "import",
      "push",
      "refresh"
    ]

    arguments = [
      "-var-file=../common.tfvars" # Note: This relative path will NOT work correctly!
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note how the <code>source</code> parameter is set, so Terragrunt will download the <code>frontend-app</code> code from the <code>modules</code> repo into a temporary folder and run <code>terraform</code> in that temporary folder. Note also that there is an <code>extra_arguments</code> block that is trying to allow the <code>frontend-app</code> to read some shared variables from a <code>common.tfvars</code> file. Unfortunately, the relative path (<code>../common.tfvars</code>) won&#8217;t work, as it will be relative to the temporary folder! Moreover, you can&#8217;t use an absolute path, or the code won&#8217;t work on any of your teammates' computers.</p>
</div>
<div class="paragraph">
<p>To make the relative path work, you need to use <code>get_terragrunt_dir()</code> to combine the path with the folder where the <code>terragrunt.hcl</code> file lives:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  source = "git::git@github.com:foo/modules.git//frontend-app?ref=v0.0.3"

  extra_arguments "custom_vars" {
    commands = [
      "apply",
      "plan",
      "import",
      "push",
      "refresh"
    ]

    # With the get_terragrunt_dir() function, you can use relative paths!
    arguments = [
      "-var-file=${get_terragrunt_dir()}/../common.tfvars"
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the example above, this path will resolve to <code>/terraform-code/frontend-app/../common.tfvars</code>, which is exactly what you want.</p>
</div>
</div>
<div class="sect2">
<h3 id="get_parent_terragrunt_dir">get_parent_terragrunt_dir</h3>
<div class="paragraph">
<p><code>get_parent_terragrunt_dir()</code> returns the absolute directory where the Terragrunt parent configuration file (by default <code>terragrunt.hcl</code>) lives. This is useful when you need to use relative paths with <a href="#remote-terraform-configurations">remote Terraform configurations</a> and you want those paths relative to your parent Terragrunt configuration file and not relative to the temporary directory where Terragrunt downloads the code.</p>
</div>
<div class="paragraph">
<p>This function is very similar to <a href="#get_terragrunt_dir">get_terragrunt_dir()</a> except it returns the root instead of the leaf of your terragrunt configuration folder.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>/terraform-code
├── terragrunt.hcl
├── common.tfvars
├── app1
│   └── terragrunt.hcl
├── tests
│   ├── app2
│   |   └── terragrunt.hcl
│   └── app3
│       └── terragrunt.hcl</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  extra_arguments "common_vars" {
    commands = [
      "apply",
      "plan",
      "import",
      "push",
      "refresh"
    ]

    arguments = [
      "-var-file=${get_parent_terragrunt_dir()}/common.tfvars"
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The common.tfvars located in the terraform root folder will be included by all applications, whatever their relative location to the root.</p>
</div>
</div>
<div class="sect2">
<h3 id="get_terraform_commands_that_need_vars">get_terraform_commands_that_need_vars</h3>
<div class="paragraph">
<p><code>get_terraform_commands_that_need_vars()</code> returns the list of terraform commands that accept <code>-var</code> and <code>-var-file</code> parameters. This function is used when defining <a href="#keep-your-cli-flags-dry">extra_arguments</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  extra_arguments "common_var" {
    commands  = get_terraform_commands_that_need_vars()
    arguments = ["-var-file=${get_aws_account_id()}.tfvars"]
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get_terraform_commands_that_need_input">get_terraform_commands_that_need_input</h3>
<div class="paragraph">
<p><code>get_terraform_commands_that_need_input()</code> returns the list of terraform commands that accept the <code>-input=(true or false)</code> parameter. This function is used when defining <a href="#keep-your-cli-flags-dry">extra_arguments</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  # Force Terraform to not ask for input value if some variables are undefined.
  extra_arguments "disable_input" {
    commands  = get_terraform_commands_that_need_input()
    arguments = ["-input=false"]
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get_terraform_commands_that_need_locking">get_terraform_commands_that_need_locking</h3>
<div class="paragraph">
<p><code>get_terraform_commands_that_need_locking()</code> returns the list of terraform commands that accept the <code>-lock-timeout</code> parameter. This function is used when defining <a href="#keep-your-cli-flags-dry">extra_arguments</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  # Force Terraform to keep trying to acquire a lock for up to 20 minutes if someone else already has the lock
  extra_arguments "retry_lock" {
    commands  = get_terraform_commands_that_need_locking()
    arguments = ["-lock-timeout=20m"]
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get_terraform_commands_that_need_parallelism">get_terraform_commands_that_need_parallelism</h3>
<div class="paragraph">
<p><code>get_terraform_commands_that_need_parallelism()</code> returns the list of terraform commands that accept the <code>-parallelism</code> parameter. This function is used when defining <a href="#keep-your-cli-flags-dry">extra_arguments</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  # Force Terraform to run with reduced parallelism
  extra_arguments "parallelism" {
    commands  = get_terraform_commands_that_need_parallelism()
    arguments = ["-parallelism=5"]
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get_aws_account_id">get_aws_account_id</h3>
<div class="paragraph">
<p><code>get_aws_account_id()</code> returns the AWS account id associated with the current set of credentials. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">remote_state {
  backend = "s3"
  config = {
    bucket = "mycompany-${get_aws_account_id()}"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get_aws_caller_identity_arn">get_aws_caller_identity_arn</h3>
<div class="paragraph">
<p><code>get_aws_caller_identity_arn()</code> returns the ARN of the AWS identity associated with the current set of credentials. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">inputs = {
  caller_arn = get_aws_caller_identity_arn()
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get_aws_caller_identity_user_id">get_aws_caller_identity_user_id</h3>
<div class="paragraph">
<p><code>get_aws_caller_identity_user_id()</code> returns the UserId of the AWS identity associated with the current set of credentials. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">inputs = {
  caller_user_id = get_aws_caller_identity_user_id()
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This allows uniqueness of the storage bucket per AWS account (since bucket name must be globally unique).</p>
</div>
<div class="paragraph">
<p>It is also possible to configure variables specifically based on the account used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">terraform {
  extra_arguments "common_var" {
    commands = get_terraform_commands_that_need_vars()
    arguments = ["-var-file=${get_aws_account_id()}.tfvars"]
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="run_cmd">run_cmd</h3>
<div class="paragraph">
<p><code>run_cmd(command, arg1, arg2&#8230;&#8203;)</code> runs a shell command and returns the stdout as the result of the interpolation. The command is executed at the same folder as the <code>terragrunt.hcl</code> file. This is useful whenever you want to dynamically fill in arbitrary information in your Terragrunt configuration.</p>
</div>
<div class="paragraph">
<p>As an example, you could write a script that determines the bucket and DynamoDB table name based on the AWS account, instead of hardcoding the name of every account:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">remote_state {
  backend = "s3"
  config = {
    bucket         = run_cmd("./get_names.sh", "bucket")
    dynamodb_table = run_cmd("./get_names.sh", "dynamodb")
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the command you are running has the potential to output sensitive values, you may wish to redact the output from appearing in the terminal. To do so, use the special <code>--terragrunt-quiet</code> argument which must be passed as the first argument to <code>run_cmd()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-hcl" data-lang="hcl">super_secret_value = run_cmd("--terragrunt-quiet", "./decrypt_secret.sh", "foo")</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> This will prevent terragrunt from displaying the output from the command in its output. However, the value could still be displayed in the Terraform output if Terraform does not treat it as a <a href="https://www.terraform.io/docs/configuration/outputs.html#sensitive-suppressing-values-in-cli-output">sensitive value</a>.</p>
</div>
</div>
</div>
</div>
        </div>
      </div>
    </div>
  </div>
</div>

        <section>
  <div class="use-cases-cmp">
  <div class="box shadow box-with-links">
    <h2>Use cases</h2>
    <div class="card-links">
      <div class="card-link">
        <a href="/terragrunt/use-cases/keep-your-terraform-code-dry/">Keep your Terraform code DRY</a>
      </div>
      <div class="card-link">
        <a href="/terragrunt/use-cases/keep-your-remote-state-configuration-dry/">Keep your remote state configuration DRY</a>
      </div>
      <div class="card-link">
        <a href="/terragrunt/use-cases/keep-your-cli-flags-dry/">Keep your CLI flags DRY</a>
      </div>
      <div class="card-link">
        <a href="/terragrunt/use-cases/execute-terraform-commands-on-multiple-modules-at-once/">Execute Terraform commands on multiple modules at once</a>
      </div>
      <div class="card-link">
        <a href="/terragrunt/use-cases/work-with-multiple-aws-accounts/">Work with multiple AWS accounts</a>
      </div>
    </div>
  </div>
</div>

  <div class="links-section-cmp section-colorful-bg">
  <h2>Links</h2>
  <div class="links">
    <a href="/terragrunt/documentation/getting-started/install" class="link-tag-styled">
      <img src='/terragrunt/assets/img/link-icon.svg' class='link-icon' alt='X' />
      Install
    </a>
    <a href="/terragrunt/documentation/getting-started/quick-start" class="link-tag-styled">
      <img src='/terragrunt/assets/img/link-icon.svg' class='link-icon' alt='X' />
      Quick start
    </a>
    <a href="/terragrunt/documentation" class="link-tag-styled">
      <img src='/terragrunt/assets/img/link-icon.svg' class='link-icon' alt='X' />
      Full documentation
    </a>
  </div>
  <img src="/terragrunt/assets/img/home/links-shapes-left.png" class="links-shapes-left" alt="shapes" />
  <img src="/terragrunt/assets/img/home/links-shapes-right.png" class="links-shapes-right" alt="shapes" />
</div>

</section>

        <footer class="footer">
  <div class="container-fluid">
    <div class="row">

      <div class="col-xs-12 col-sm-6">
        <div class="terragrunt-logo">
  <a class="logo-terragrunt" href="/terragrunt/">Terragrunt</a>
  <a class="gruntwork" href="https://gruntwork.io/" target="_blank">by <strong>Gruntwork.io</strong></a>
</div>

        <p class="subtitle">Your entire infrastructure. Defined as code. In about a day.</p>
        <a href="https://gruntwork.io" target="_blank" class="btn btn-primary">Discover Gruntwoork.io</a>
      </div>

      <div class="col-xs-12 col-sm-6 learn-col">
        <h4>Learn</h4>
        <ul>
          <li><a href="/terragrunt/documentation/getting-started/install">Install</a></li>
          <li><a href="/terragrunt/documentation/getting-started/quick-start">Quick Start</a></li>
          <li><a href="/terragrunt/documentation">Documentation</a></li>
          <li><a href="/terragrunt/use-cases">Use cases</a></li>
        </ul>
        <h4>Website</h4>
        <ul>
          <li><a href="/terragrunt/cookie-policy">Cookie Policy</a></li>
          <li><a href="/terragrunt/support">Support</a></li>
        </ul>
        <div class="footer__copyright">
          &copy; 2019 Gruntwork, Inc. All rights reserved.
        </div>
      </div>

    </div>
  </div>
</footer>

        <script src="/terragrunt//assets/js/main.js"></script>

  
    <script src='/terragrunt/assets/js/prism.js' type="text/javascript"></script>
  
    <script src='/terragrunt/assets/js/collection-browser_scroll.js' type="text/javascript"></script>
  
    <script src='/terragrunt/assets/js/collection-browser_search.js' type="text/javascript"></script>
  
    <script src='/terragrunt/assets/js/collection-browser_toc.js' type="text/javascript"></script>
  


<!-- Add here more: Google Analytics etc. -->
<script src="/terragrunt//assets/js/cookie.js" async></script>

    </body>
</html>
